@using AZUS_Transport_Website.Models
@model AZUS_Transport_Website.Models.FilteringApplications
@{
    ViewBag.Title = "Index";
    //Layout = null;
}
@*<meta charset="utf-8">*@

<html>
<head>
    @*Диалоговые окна и CRUD-интерфейс*@
    <link href="~/Content/themes/base/jquery-ui.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <script src="~/Scripts/jquery-ui-1.10.4.min.js"></script>
    @*Диалоговые окна и CRUD-интерфейс*@

</head>

<body>


    <div class="grid-item">
        @if (Model.Applications.Count() == 0)
        {
            <div class="NoApplication">
                <div><span visility="hidden">Пока заявок нет</span></div>
            </div>
        }

        @foreach (var applications in Model.Applications)
        {


            //первый DataGrid
            @*if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 3
                       && applications.DepartmentStatusDoneID == 3 && applications.DispatcherNIIAR_StatusDoneID == 3)
                {
                    <div>На рассмотрении у Экономиста</div>

                }
                if (applications.DirectorStatusDoneID == 3 && applications.EconomistStatusDoneID == 3
                    && applications.DepartmentStatusDoneID == 3 && applications.DispatcherNIIAR_StatusDoneID == 3)
                {
                    <div>На рассмотрении у Руководителя</div>
                }

                if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 3
                    && applications.DispatcherNIIAR_StatusDoneID == 3 && ((applications.Days == true && applications.IntercityСity == false)
                    || (applications.Days == false && applications.IntercityСity == true) ||
                   (applications.Days == false && applications.IntercityСity == false)))
                {
                    <div>На рассмотрении у ДИД</div>
                }



                if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 3 &&
                    applications.DispatcherNIIAR_StatusDoneID == 3 && (applications.Days == true && applications.IntercityСity == true))
                {
                    <div>
                        На рассмотрении у Диспетчера НИИАР
                    </div>

                }

                if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 1
                && applications.DispatcherNIIAR_StatusDoneID == 3 && ((applications.Days == true && applications.IntercityСity == false)
                || (applications.Days == false && applications.IntercityСity == true) ||
                (applications.Days == false && applications.IntercityСity == false) || (applications.Days == true && applications.IntercityСity == true)))
                {
                    <div>На рассмотрении у Диспетчера НИИАР</div>
                }

                if (DateTime.Now - applications.DateCreation < new TimeSpan(1, 0, 0, 0) && (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 1
                && applications.DispatcherNIIAR_StatusDoneID == 1 && applications.DispatcherATA_StatusDoneID == 3 && ((applications.Days == true && applications.IntercityСity == false)
                || (applications.Days == false && applications.IntercityСity == true) ||
                (applications.Days == false && applications.IntercityСity == false) || (applications.Days == true && applications.IntercityСity == true))))
                {
                    <div>Согласовано у Диспетчера НИИАР</div>

                }
                if (DateTime.Now - applications.DateCreation < new TimeSpan(1, 0, 0, 0) && (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 3 &&
                applications.DispatcherNIIAR_StatusDoneID == 1 && applications.DispatcherATA_StatusDoneID == 3 && (applications.Days == true && applications.IntercityСity == true)))
                {
                    <div>
                        Согласовано у Диспетчера НИИАР
                    </div>

                }

                if (DateTime.Now - applications.DateCreation > new TimeSpan(1, 0, 0, 0) && (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 1
                && applications.DispatcherNIIAR_StatusDoneID == 1 && applications.DispatcherATA_StatusDoneID == 3 && ((applications.Days == true && applications.IntercityСity == false)
                || (applications.Days == false && applications.IntercityСity == true) ||
                (applications.Days == false && applications.IntercityСity == false) || (applications.Days == true && applications.IntercityСity == true))))
                {
                    <div>
                        Согласовано у Диспетчера НИИАР
                    </div>

                }
                if (DateTime.Now - applications.DateCreation > new TimeSpan(1, 0, 0, 0) && (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 3 &&
                applications.DispatcherNIIAR_StatusDoneID == 1 && applications.DispatcherATA_StatusDoneID == 3 && (applications.Days == true && applications.IntercityСity == true)))
                {
                    <div>
                        Согласовано у Диспетчера НИИАР
                    </div>
                }*@
            //первый DataGrid







            <div>
                <div class="item">
                    @*загрузка фотографий с сервера*@
                    @*@if (applications.Cars.ImageMimeType != null)
                        {
                            <img class="img-thumbnail" width="250" height="250"
                                 src="@Url.Action("GetImage", "Home", new { applications.Id })" />
                        }*@
                    @*загрузка фотографий с сервера*@
                    <details>
                        <summary>
                            <hr style="border-width: 5px; border-color: darkgreen;">
                            <h3>Заявка № @applications.Id</h3>
                            @using (Html.BeginForm("Index", "Home",
FormMethod.Post, new { enctype = "multipart/form-data" }))
                            {

                                if (ViewBag.statusID != "7" && ViewBag.statusID != "2" && ViewBag.statusID != "1")
                                {
                                    @*Диалоговые окна и CRUD-интерфейс*@
                                    @Html.ActionLink("Принять", "Accept", "Home", new { id = applications.Id },
                                   new { @class = "viewDialog", data_dialog_title = "Принять заявку № " + applications.Id + "?" })
                                    @*Диалоговые окна и CRUD-интерфейс*@

                                    @*Диалоговые окна и CRUD-интерфейс*@
                                    @Html.ActionLink("Отклонить", "Reject", "Home", new { id = applications.Id },
                                   new { @class = "viewDialogReject", data_dialog_title = "Отклонить заявку № " + applications.Id + "?" })
                                    @*Диалоговые окна и CRUD-интерфейс*@
                                }
                                if (ViewBag.statusID == "7" && ViewBag.statusID != "1")
                                {
                                    @*Диалоговые окна и CRUD-интерфейс*@
                                    @Html.ActionLink("Исполнено", "Accept", "Home", new { id = applications.Id },
                                   new { @class = "viewDialog", data_dialog_title = "Исполнить заявку № " + applications.Id + "?" })
                                    @*Диалоговые окна и CRUD-интерфейс*@

                                    @*Диалоговые окна и CRUD-интерфейс*@
                                    @Html.ActionLink("Не исполнено", "Reject", "Home", new { id = applications.Id },
                                   new { @class = "viewDialogReject", data_dialog_title = "Не исполнять заявку № " + applications.Id + "?" })
                                    @*Диалоговые окна и CRUD-интерфейс*@
                                }
                            }


                            @using (Html.BeginForm("WordSave", "Home",
FormMethod.Post, new { enctype = "multipart/form-data" }))
                            {
                                if (DateTime.Now - applications.DateCreation < new TimeSpan(1, 0, 0, 0) && (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 3
                                && applications.DepartmentStatusDoneID == 3 && applications.DispatcherNIIAR_StatusDoneID == 3))
                                {
                                    <table class="table-status">
                                        <thead>
                                            <tr>
                                                <th>Руководитель</th>
                                                <th>Экономист</th>
                                                <th>ДИД</th>
                                                <th>Диспетчер НИИАР</th>
                                                <th>Диспетчер АТА</th>

                                            </tr>
                                            <tr>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                            </tr>
                                        <thead>
                                    </table>


                                    <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="На рассмотрении у Экономиста"></div>

                                }
                                if (DateTime.Now - applications.DateCreation < new TimeSpan(1, 0, 0, 0) && (applications.DirectorStatusDoneID == 3 && applications.EconomistStatusDoneID == 3 && applications.DepartmentStatusDoneID == 3 && applications.DispatcherNIIAR_StatusDoneID == 3))
                                {
                                    <table class="table-status">
                                        <thead>
                                            <tr>
                                                <th>Руководитель</th>
                                                <th>Экономист</th>
                                                <th>ДИД</th>
                                                <th>Диспетчер НИИАР</th>
                                                <th>Диспетчер АТА</th>

                                            </tr>
                                            <tr>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                            </tr>
                                        <thead>
                                    </table>

                                    <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="На рассмотрении у Руководителя"></div>

                                }

                                if (DateTime.Now - applications.DateCreation < new TimeSpan(1, 0, 0, 0) && (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 3
                                && applications.DispatcherNIIAR_StatusDoneID == 3 && ((applications.Days == true && applications.IntercityСity == false)
                                || (applications.Days == false && applications.IntercityСity == true) ||
                                (applications.Days == false && applications.IntercityСity == false))))
                                {
                                    <table class="table-status">
                                        <thead>
                                            <tr>
                                                <th>Руководитель</th>
                                                <th>Экономист</th>
                                                <th>ДИД</th>
                                                <th>Диспетчер НИИАР</th>
                                                <th>Диспетчер АТА</th>

                                            </tr>
                                            <tr>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                            </tr>
                                        <thead>
                                    </table>

                                    <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="На рассмотрении у ДИД"></div>

                                }



                                if (DateTime.Now - applications.DateCreation < new TimeSpan(1, 0, 0, 0) && (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 3 &&
                                applications.DispatcherNIIAR_StatusDoneID == 3 && (applications.Days == true && applications.IntercityСity == true)))
                                {
                                    <table class="table-status">
                                        <thead>
                                            <tr>
                                                <th>Руководитель</th>
                                                <th>Экономист</th>
                                                <th>Диспетчер НИИАР</th>
                                                <th>Диспетчер АТА</th>

                                            </tr>
                                            <tr>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                            </tr>
                                        <thead>
                                    </table>

                                    <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="На рассмотрении у Диспетчера НИИАР"></div>

                                }

                                if (DateTime.Now - applications.DateCreation < new TimeSpan(1, 0, 0, 0) && (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 1
                                && applications.DispatcherNIIAR_StatusDoneID == 3 && ((applications.Days == true && applications.IntercityСity == false)
                                || (applications.Days == false && applications.IntercityСity == true) ||
                                (applications.Days == false && applications.IntercityСity == false) || (applications.Days == true && applications.IntercityСity == true))))
                                {
                                    <table class="table-status">
                                        <thead>
                                            <tr>
                                                <th>Руководитель</th>
                                                <th>Экономист</th>
                                                <th>ДИД</th>
                                                <th>Диспетчер НИИАР</th>
                                                <th>Диспетчер АТА</th>

                                            </tr>
                                            <tr>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                            </tr>
                                        <thead>
                                    </table>

                                    <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="На рассмотрении у Диспетчера НИИАР"></div>

                                }

                                if (DateTime.Now - applications.DateCreation < new TimeSpan(1, 0, 0, 0) && (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 1
                                && applications.DispatcherNIIAR_StatusDoneID == 1 && applications.DispatcherATA_StatusDoneID == 3 && ((applications.Days == true && applications.IntercityСity == false)
                                || (applications.Days == false && applications.IntercityСity == true) ||
                                (applications.Days == false && applications.IntercityСity == false) || (applications.Days == true && applications.IntercityСity == true))))
                                {
                                    <table class="table-status">
                                        <thead>
                                            <tr>
                                                <th>Руководитель</th>
                                                <th>Экономист</th>
                                                <th>ДИД</th>
                                                <th>Диспетчер НИИАР</th>
                                                <th>Диспетчер АТА</th>

                                            </tr>
                                            <tr>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                            </tr>
                                        <thead>
                                    </table>

                                    <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="Согласовано у Диспетчера НИИАР"></div>

                                }
                                if (DateTime.Now - applications.DateCreation < new TimeSpan(1, 0, 0, 0) && (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 3 &&
                                applications.DispatcherNIIAR_StatusDoneID == 1 && applications.DispatcherATA_StatusDoneID == 3 && (applications.Days == true && applications.IntercityСity == true)))
                                {
                                    <table class="table-status">
                                        <thead>
                                            <tr>
                                                <th>Руководитель</th>
                                                <th>Экономист</th>
                                                <th>Диспетчер НИИАР</th>
                                                <th>Диспетчер АТА</th>

                                            </tr>
                                            <tr>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                            </tr>
                                        <thead>
                                    </table>

                                    <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="Согласовано у Диспетчера НИИАР"></div>

                                }

                                if (DateTime.Now - applications.DateCreation > new TimeSpan(1, 0, 0, 0) && (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 1
                                && applications.DispatcherNIIAR_StatusDoneID == 1 && applications.DispatcherATA_StatusDoneID == 3 && ((applications.Days == true && applications.IntercityСity == false)
                                || (applications.Days == false && applications.IntercityСity == true) ||
                                (applications.Days == false && applications.IntercityСity == false) || (applications.Days == true && applications.IntercityСity == true))))
                                {

                                    <table class="table-status">
                                        <thead>
                                            <tr>
                                                <th>Руководитель</th>
                                                <th>Экономист</th>
                                                <th>ДИД</th>
                                                <th>Диспетчер НИИАР</th>
                                                <th>Диспетчер АТА</th>

                                            </tr>
                                            <tr>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                            </tr>
                                        <thead>
                                    </table>

                                    <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="Согласовано у Диспетчера НИИАР"></div>

                                }
                                if (DateTime.Now - applications.DateCreation > new TimeSpan(1, 0, 0, 0) && (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 3 &&
                                applications.DispatcherNIIAR_StatusDoneID == 1 && applications.DispatcherATA_StatusDoneID == 3 && (applications.Days == true && applications.IntercityСity == true)))
                                {
                                    <table class="table-status">
                                        <thead>
                                            <tr>
                                                <th>Руководитель</th>
                                                <th>Экономист</th>
                                                <th>Диспетчер НИИАР</th>
                                                <th>Диспетчер АТА</th>

                                            </tr>
                                            <tr>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                            </tr>
                                        <thead>
                                    </table>

                                    <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="Согласовано у Диспетчера НИИАР"></div>

                                }

                                if (applications.DirectorStatusDoneID == 2 && applications.EconomistStatusDoneID == 3
                                && applications.DepartmentStatusDoneID == 3 && applications.DispatcherNIIAR_StatusDoneID == 3)
                                {
                                    <table class="table-status">
                                        <thead>
                                            <tr>
                                                <th>Руководитель</th>
                                                <th>Экономист</th>
                                                <th>ДИД</th>
                                                <th>Диспетчер НИИАР</th>
                                                <th>Диспетчер АТА</th>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <img src="~/Content/Images/No.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                            </tr>
                                        <thead>
                                    </table>

                                    <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="Заявка отклонена Руководителем"></div>

                                }

                                if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 2
                                && applications.DepartmentStatusDoneID == 3 && applications.DispatcherNIIAR_StatusDoneID == 3 && applications.DispatcherATA_StatusDoneID == 3)
                                {
                                    <table class="table-status">
                                        <thead>
                                            <tr>
                                                <th>Руководитель</th>
                                                <th>Экономист</th>
                                                <th>ДИД</th>
                                                <th>Диспетчер НИИАР</th>
                                                <th>Диспетчер АТА</th>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/No.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                            </tr>
                                        <thead>
                                    </table>

                                    <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="Заявка отклонена Экономистом"></div>

                                }


                                if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 2
                                && applications.DispatcherNIIAR_StatusDoneID == 3 && ((applications.Days == true && applications.IntercityСity == false)
                                || (applications.Days == false && applications.IntercityСity == true) ||
                                (applications.Days == false && applications.IntercityСity == false)))
                                {
                                    <table class="table-status">
                                        <thead>
                                            <tr>
                                                <th>Руководитель</th>
                                                <th>Экономист</th>
                                                <th>ДИД</th>
                                                <th>Диспетчер НИИАР</th>
                                                <th>Диспетчер АТА</th>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/No.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                            </tr>
                                        <thead>
                                    </table>

                                    <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="Заявка отклонена ДИД"></div>

                                }

                                if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 3 &&
                                applications.DispatcherNIIAR_StatusDoneID == 2 && (applications.Days == true && applications.IntercityСity == true))
                                {
                                    <table class="table-status">
                                        <thead>
                                            <tr>
                                                <th>Руководитель</th>
                                                <th>Экономист</th>
                                                <th>Диспетчер НИИАР</th>
                                                <th>Диспетчер АТА</th>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/No.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                            </tr>
                                        <thead>
                                    </table>

                                    <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="Заявка отклонена Диспетчером НИИАР"></div>

                                }

                                if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 1
                                && applications.DispatcherNIIAR_StatusDoneID == 2 && ((applications.Days == true && applications.IntercityСity == false)
                                || (applications.Days == false && applications.IntercityСity == true) ||
                                (applications.Days == false && applications.IntercityСity == false) || (applications.Days == true && applications.IntercityСity == true)))
                                {
                                    <table class="table-status">
                                        <thead>
                                            <tr>
                                                <th>Руководитель</th>
                                                <th>Экономист</th>
                                                <th>ДИД</th>
                                                <th>Диспетчер НИИАР</th>
                                                <th>Диспетчер АТА</th>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/Yes.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/No.png" width=20>
                                                </td>
                                                <td>
                                                    <img src="~/Content/Images/DateTime.png" width=20>
                                                </td>
                                            </tr>
                                        <thead>
                                    </table>

                                    <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="Заявка отклонена Диспетчером НИИАР"></div>


                                }

                                if (DateTime.Now - applications.DateCreation > new TimeSpan(1, 0, 0, 0) && (((applications.DirectorStatusDoneID == 3 ||
                                                                                                        applications.DirectorStatusDoneID == 1) && (applications.EconomistStatusDoneID == 1 ||
                                                                                                        applications.EconomistStatusDoneID == 3) &&
                                                                                                        (applications.DepartmentStatusDoneID == 1
                                                                                                        || applications.DepartmentStatusDoneID == 3) && (applications.DispatcherNIIAR_StatusDoneID == 3) && (applications.DispatcherATA_StatusDoneID == 5))))
                                {

                                    if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 3 &&
                       applications.DepartmentStatusDoneID == 3 && applications.DispatcherNIIAR_StatusDoneID == 3
                       )
                                    {
                                        <table class="table-status">
                                            <thead>
                                                <tr>
                                                    <th>Руководитель</th>
                                                    <th>Экономист</th>
                                                    <th>ДИД</th>
                                                    <th>Диспетчер НИИАР</th>
                                                    <th>Диспетчер АТА</th>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <img src="~/Content/Images/No.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/DateTime.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/DateTime.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/DateTime.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/DateTime.png" width=20>
                                                    </td>
                                                </tr>
                                            <thead>
                                        </table>

                                        <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="Не исполнено. Заявку не успели рассмотреть"></div>

                                    }
                                    if (applications.DirectorStatusDoneID == 3 && applications.EconomistStatusDoneID == 3 &&
                                        applications.DepartmentStatusDoneID == 3 && applications.DispatcherNIIAR_StatusDoneID == 3
                                        )
                                    {
                                        <table class="table-status">
                                            <thead>
                                                <tr>
                                                    <th>Руководитель</th>
                                                    <th>Экономист</th>
                                                    <th>ДИД</th>
                                                    <th>Диспетчер НИИАР</th>
                                                    <th>Диспетчер АТА</th>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <img src="~/Content/Images/No.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/DateTime.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/DateTime.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/DateTime.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/DateTime.png" width=20>
                                                    </td>
                                                </tr>
                                            <thead>
                                        </table>

                                        <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="Не исполнено. Заявку не успели рассмотреть"></div>

                                    }
                                    if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 &&
                                        applications.DepartmentStatusDoneID == 3 && applications.DispatcherNIIAR_StatusDoneID == 3
                                      )
                                    {
                                        <table class="table-status">
                                            <thead>
                                                <tr>
                                                    <th>Руководитель</th>
                                                    <th>Экономист</th>
                                                    <th>ДИД</th>
                                                    <th>Диспетчер НИИАР</th>
                                                    <th>Диспетчер АТА</th>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/No.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/DateTime.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/DateTime.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/DateTime.png" width=20>
                                                    </td>
                                                </tr>
                                            <thead>
                                        </table>

                                        <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="Не исполнено. Заявку не успели рассмотреть"></div>

                                    }
                                    if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 &&
                                        applications.DepartmentStatusDoneID == 1 && applications.DispatcherNIIAR_StatusDoneID == 3
                                      )
                                    {
                                        <table class="table-status">
                                            <thead>
                                                <tr>
                                                    <th>Руководитель</th>
                                                    <th>Экономист</th>
                                                    <th>ДИД</th>
                                                    <th>Диспетчер НИИАР</th>
                                                    <th>Диспетчер АТА</th>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/No.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/DateTime.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/DateTime.png" width=20>
                                                    </td>
                                                </tr>
                                            <thead>
                                        </table>

                                        <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="Не исполнено. Заявку не успели рассмотреть"></div>


                                    }
                                    if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 &&
                                        applications.DepartmentStatusDoneID == 1 && applications.DispatcherNIIAR_StatusDoneID == 1)


                                    {
                                        <table class="table-status">
                                            <thead>
                                                <tr>
                                                    <th>Руководитель</th>
                                                    <th>Экономист</th>
                                                    <th>ДИД</th>
                                                    <th>Диспетчер НИИАР</th>
                                                    <th>Диспетчер АТА</th>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/No.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/DateTime.png" width=20>
                                                    </td>
                                                </tr>
                                            <thead>
                                        </table>

                                        <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="Не исполнено. Заявку не успели рассмотреть"></div>

                                    }
                                    if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 &&
                                        applications.DepartmentStatusDoneID == 3 && applications.DispatcherNIIAR_StatusDoneID == 1
                                       )
                                    {
                                        <table class="table-status">
                                            <thead>
                                                <tr>
                                                    <th>Руководитель</th>
                                                    <th>Экономист</th>
                                                    <th>Диспетчер НИИАР</th>
                                                    <th>Диспетчер АТА</th>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/No.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/DateTime.png" width=20>
                                                    </td>
                                                </tr>
                                            <thead>
                                        </table>

                                        <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="Не исполнено. Заявку не успели рассмотреть"></div>

                                    }
                                }



                                if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 1
                                && applications.DispatcherNIIAR_StatusDoneID == 1 && (applications.DispatcherATA_StatusDoneID == 4 || applications.DispatcherATA_StatusDoneID != 3) && ((applications.Days == true && applications.IntercityСity == false)
                                || (applications.Days == false && applications.IntercityСity == true) ||
                                (applications.Days == false && applications.IntercityСity == false) || (applications.Days == true && applications.IntercityСity == true)))
                                {
                                    if (applications.DispatcherATA_StatusDoneID == 4)
                                    {
                                        <table class="table-status">
                                            <thead>
                                                <tr>
                                                    <th>Руководитель</th>
                                                    <th>Экономист</th>
                                                    <th>ДИД</th>
                                                    <th>Диспетчер НИИАР</th>
                                                    <th>Диспетчер АТА</th>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                </tr>
                                            <thead>
                                        </table>
                                        <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="Исполнено"></div>

                                    }

                                }
                                if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 3 &&
                                applications.DispatcherNIIAR_StatusDoneID == 1 && (applications.DispatcherATA_StatusDoneID == 4 || applications.DispatcherATA_StatusDoneID != 3) && (applications.Days == true && applications.IntercityСity == true))
                                {
                                    if (applications.DispatcherATA_StatusDoneID == 4)
                                    {
                                        <table class="table-status">
                                            <thead>
                                                <tr>
                                                    <th>Руководитель</th>
                                                    <th>Экономист</th>
                                                    <th>Диспетчер НИИАР</th>
                                                    <th>Диспетчер АТА</th>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                </tr>
                                            <thead>
                                        </table>

                                        <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="Исполнено"></div>

                                    }
                                }

                                if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 1
                                && applications.DispatcherNIIAR_StatusDoneID == 1 && (applications.DispatcherATA_StatusDoneID == 5) && ((applications.Days == true && applications.IntercityСity == false)
                                || (applications.Days == false && applications.IntercityСity == true) ||
                                (applications.Days == false && applications.IntercityСity == false) || (applications.Days == true && applications.IntercityСity == true)))
                                {
                                    if (applications.DispatcherATA_StatusDoneID == 5)
                                    {
                                        <table class="table-status">
                                            <thead>
                                                <tr>
                                                    <th>Руководитель</th>
                                                    <th>Экономист</th>
                                                    <th>ДИД</th>
                                                    <th>Диспетчер НИИАР</th>
                                                    <th>Диспетчер АТА</th>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/No.png" width=20>
                                                    </td>
                                                </tr>
                                            <thead>
                                        </table>

                                        <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="Не исполнено"></div>


                                    }
                                }
                                if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 3 &&
                                applications.DispatcherNIIAR_StatusDoneID == 1 && applications.DispatcherATA_StatusDoneID == 5 && (applications.Days == true && applications.IntercityСity == true))
                                {
                                    if (applications.DispatcherATA_StatusDoneID == 5)
                                    {

                                        <table class="table-status">
                                            <thead>
                                                <tr>
                                                    <th>Руководитель</th>
                                                    <th>Экономист</th>
                                                    <th>Диспетчер НИИАР</th>
                                                    <th>Диспетчер АТА</th>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/Yes.png" width=20>
                                                    </td>
                                                    <td>
                                                        <img src="~/Content/Images/No.png" width=20>
                                                    </td>
                                                </tr>
                                            <thead>
                                        </table>

                                        <div class="status-div"><label class="status-label">Статус: </label><input class="statusProcess" readonly="readonly" type="text" name="statusDone" value="Не исполнено"></div>

                                    }

                                }


                                if (DateTime.Now - applications.DateCreation < new TimeSpan(1, 0, 0, 0))
                                {
                                    TimeSpan TimeRemaining = applications.DateCreation.AddDays(1) - DateTime.Now;
                                    <div>Времени осталось: @TimeRemaining.Days дн. @TimeRemaining.Hours час. @TimeRemaining.Minutes мин.</div>
                                }
                                else
                                {
                                    TimeSpan TimeRemaining = DateTime.Now - applications.DateCreation;
                                    <div>Времени прошло: @TimeRemaining.Days дн. @TimeRemaining.Hours час. @TimeRemaining.Minutes мин.</div>
                                }


                                @*@Html.ActionLink("Сохранить в Word", "WordSave", "Home", new { id = applications.Id })*@


                                <input hidden="hidden" type="number" name="idApp" value="@applications.Id">
                                <input type="image" class="saveWord" src="~/Content/Images/WordIcon.png" title="Сохранить в Word" />
                            }


                            @* @Html.ActionLink("Подробнее", "Index", "Home", new { Id = applications.Id }, null)*@

                            @*@using (Html.BeginForm("Index", "Home",
                                FormMethod.Post, new { enctype = "multipart/form-data" }))
                                                            {
                                                                @Html.Editor("drcAccept", new { htmlAttributes = new { @Value = "1", @type = "hidden" } })
                                                                <input type="hidden" name="Id" value="@applications.Id" />
                                                                <input type="submit" value="Принять" class="button" />
                                                            }

                                                            @using (Html.BeginForm("Index", "Home",
                                FormMethod.Post, new { enctype = "multipart/form-data" }))
                                                            {
                                                                @Html.Editor("drcReject", new { htmlAttributes = new { @Value = "2", @type = "hidden" } })
                                                                <input type="hidden" name="Id" value="@applications.Id" />
                                                                <input type="submit" value="Отклонить" class="button" />
                                                            }*@



                        </summary>
                        <small><img src="~/Content/Images/Arrow.png" width="50" style="margin: 15px 0px 0px 550px;"></small>
                        <hr style="border-width: 2px; border-color: darkgreen;" />
                        <div class="main-tables">Клиент</div>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th class="text-left">Ф.И.O.</th>
                                    <td class="text-right">@applications.Users.SurName @applications.Users.Name  @applications.Users.Partonymic</td>
                                </tr>
                                <tr>
                                    <th class="text-left">E-mail</th>
                                    <td class="text-right">@applications.Users.Email</td>
                                </tr>
                                <tr>
                                    <th class="text-left">Должность</th>
                                    <td class="text-right">@applications.Users.Post</td>
                                </tr>
                                <tr>
                                    <th class="text-left">Подразделение</th>
                                    <td class="text-right">@applications.Users.Divisions.Name</td>
                                </tr>
                                <tr>
                                    <th class="text-left">Здание</th>
                                    <td class="text-right">@applications.Users.Divisions.Building</td>
                                </tr>
                                <tr>
                                    <th class="text-left">Комната</th>
                                    <td class="text-right">@applications.Users.Room</td>
                                </tr>
                                <tr>
                                    <th class="text-left">Рабочий телефон</th>
                                    <td class="text-right">@applications.Users.WorkPhone</td>
                                </tr>
                                <tr>
                                    <th class="text-left">Мобильный телефон</th>
                                    <td class="text-right">@applications.Users.MobilePhone</td>
                                </tr>
                            </thead>
                        </table>
                        <div class="main-tables">Руководитель и экономист</div>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th class="text-left">Ф.И.О.  руководителя</th>
                                    @foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                    {
                                        foreach (var usrDrc in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 3))
                                        {
                                            <td class="text-right">@usrDrc.SurName @usrDrc.Name @usrDrc.Partonymic</td>
                                        }
                                    }
                                </tr>
                                <tr>
                                    <th class="text-left">Ф.И.О.  экономиста</th>
                                    @foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                    {
                                        foreach (var usrEcn in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 4))
                                        {
                                            <td class="text-right">@usrEcn.SurName @usrEcn.Name @usrEcn.Partonymic</td>
                                        }
                                    }
                                </tr>

                            </thead>
                        </table>
                        <div class="main-tables">Дата и время использования</div>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th class="text-left">День</th>


                                    @if (applications.Days == true)
                                    {
                                        <td class="text-right">Рабочий</td>
                                    }
                                    else
                                    {
                                        <td class="text-right">Выходной</td>
                                    }

                                </tr>
                                <tr>
                                    <th class="text-left">Начало работы</th>
                                    <td class="text-right">@String.Format("{0:d} - {0:t}", applications.StartDate)</td>
                                </tr>

                                <tr>
                                    <th class="text-left">Завершение работы</th>
                                    <td class="text-right">@String.Format("{0:d} - {0:t}", applications.EndDate)</td>
                                </tr>

                            </thead>
                        </table>
                        <div class="main-tables">Назначение</div>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th class="text-left">Город/Межгород</th>

                                    <td class="text-right">@string.Format("{0}", applications.IntercityСity.Value ? "Город" : "Межгород")</td>

                                </tr>
                                <tr>
                                    <th class="text-left">Тип транспорта</th>
                                    <td class="text-right">@applications.TypeCars.Name</td>
                                </tr>
                                <tr>
                                    <th class="text-left">Количество пассажиров</th>
                                    @if (applications.QuantityPassengers != null)
                                    {
                                        <td class="text-right">@applications.QuantityPassengers</td>
                                    }
                                    else
                                    {
                                        <td class="text-right">—</td>
                                    }
                                </tr>
                                <tr>
                                    <th class="text-left">Груз (кг)</th>
                                    @if (applications.CargoWeight != null)
                                    {
                                        <td class="text-right">@applications.CargoWeight</td>
                                    }
                                    else
                                    {
                                        <td class="text-right">—</td>
                                    }
                                </tr>
                                <tr>
                                    <th class="text-left">Место подачи</th>
                                    <td class="text-right">@applications.PlaceSubmission</td>
                                </tr>
                                <tr>
                                    <th class="text-left">Место подачи</th>
                                    <td class="text-right">@applications.Route</td>
                                </tr>
                                <tr>
                                    <th class="text-left">
                                        Цель использования транспорта
                                    </th>
                                    <td class="text-right">@applications.PurposeUsingTransport</td>
                                </tr>
                            </thead>
                        </table>

                        <div class="input-size">
                            @if (DateTime.Now - applications.DateCreation < new TimeSpan(1, 0, 0, 0) && (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 3
                            && applications.DepartmentStatusDoneID == 3 && applications.DispatcherNIIAR_StatusDoneID == 3))
                            {
                                <div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>

                                if (applications.CommentClient != null)
                                {
                                    <input disabled="disabled" value="@applications.CommentClient">
                                }
                                else
                                {
                                    <input disabled="disabled" value="Клиент не оставил комментария">
                                }

                                foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                {
                                    foreach (var usrDrc in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 3))
                                    {
                                        <div>Комментарий руководителя (@usrDrc.SurName @usrDrc.Name @usrDrc.Partonymic)</div>


                                        if (applications.СommentDirector != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDirector">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Руководитель не оставил комментария">
                                        }
                                    }
                                }

                            }

                            @if (DateTime.Now - applications.DateCreation < new TimeSpan(1, 0, 0, 0) && (applications.DirectorStatusDoneID == 3 && applications.EconomistStatusDoneID == 3
                            && applications.DepartmentStatusDoneID == 3 && applications.DispatcherNIIAR_StatusDoneID == 3))
                            {
                                <div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>

                                if (applications.CommentClient != null)
                                {
                                    <input disabled="disabled" value="@applications.CommentClient">
                                }
                                else
                                {
                                    <input disabled="disabled" value="Клиент не оставил комментария">
                                }

                            }

                            @if (DateTime.Now - applications.DateCreation < new TimeSpan(1, 0, 0, 0) && (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 3
                            && applications.DispatcherNIIAR_StatusDoneID == 3 && ((applications.Days == true && applications.IntercityСity == false)
                            || (applications.Days == false && applications.IntercityСity == true) ||
                            (applications.Days == false && applications.IntercityСity == false))))
                            {<div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>

                            if (applications.CommentClient != null)
                            {
                                <input disabled="disabled" value="@applications.CommentClient">
                            }
                            else
                            {
                                <input disabled="disabled" value="Клиент не оставил комментария">
                            }




                            foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                            {
                                foreach (var usrDrc in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 3))
                                {
                                    <div>Комментарий руководителя (@usrDrc.SurName @usrDrc.Name @usrDrc.Partonymic)</div>


                                    if (applications.СommentDirector != null)
                                    {
                                        <input disabled="disabled" value="@applications.СommentDirector">
                                    }
                                    else
                                    {
                                        <input disabled="disabled" value="Руководитель не оставил комментария">
                                    }
                                }
                            }


                            foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                            {
                                foreach (var usrEcn in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 4))
                                {
                                    <div>
                                        Комментарий экономиста (@usrEcn.SurName @usrEcn.Name @usrEcn.Partonymic)
                                    </div>


                                    if (applications.СommentEconomist != null)
                                    {
                                        <input disabled="disabled" value="@applications.СommentEconomist">
                                    }
                                    else
                                    {
                                        <input disabled="disabled" value="Экономист не оставил комментария">
                                    }
                                }

                            }
                        }



                            @if (DateTime.Now - applications.DateCreation < new TimeSpan(1, 0, 0, 0) && (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 3 &&
                            applications.DispatcherNIIAR_StatusDoneID == 3 && (applications.Days == true && applications.IntercityСity == true)))
                            {
                                <div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>

                                if (applications.CommentClient != null)
                                {
                                    <input disabled="disabled" value="@applications.CommentClient">
                                }
                                else
                                {
                                    <input disabled="disabled" value="Клиент не оставил комментария">
                                }

                                foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                {
                                    foreach (var usrDrc in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 3))
                                    {
                                        <div>Комментарий руководителя (@usrDrc.SurName @usrDrc.Name @usrDrc.Partonymic)</div>


                                        if (applications.СommentDirector != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDirector">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Руководитель не оставил комментария">
                                        }
                                    }
                                }


                                foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                {
                                    foreach (var usrEcn in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 4))
                                    {
                                        <div>
                                            Комментарий экономиста (@usrEcn.SurName @usrEcn.Name @usrEcn.Partonymic)
                                        </div>


                                        if (applications.СommentEconomist != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentEconomist">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Экономист не оставил комментария">
                                        }
                                    }
                                }

                            }

                            @if (DateTime.Now - applications.DateCreation < new TimeSpan(1, 0, 0, 0) && (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 1
                            && applications.DispatcherNIIAR_StatusDoneID == 3 && ((applications.Days == true && applications.IntercityСity == false)
                            || (applications.Days == false && applications.IntercityСity == true) ||
                            (applications.Days == false && applications.IntercityСity == false) || (applications.Days == true && applications.IntercityСity == true))))
                            {
                                <div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>

                                if (applications.CommentClient != null)
                                {
                                    <input disabled="disabled" value="@applications.CommentClient">
                                }
                                else
                                {
                                    <input disabled="disabled" value="Клиент не оставил комментария">
                                }


                                foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                {
                                    foreach (var usrDrc in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 3))
                                    {
                                        <div>Комментарий руководителя (@usrDrc.SurName @usrDrc.Name @usrDrc.Partonymic)</div>


                                        if (applications.СommentDirector != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDirector">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Руководитель не оставил комментария">
                                        }
                                    }
                                }


                                foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                {
                                    foreach (var usrEcn in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 4))
                                    {
                                        <div>
                                            Комментарий экономиста (@usrEcn.SurName @usrEcn.Name @usrEcn.Partonymic)
                                        </div>


                                        if (applications.СommentEconomist != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentEconomist">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Экономист не оставил комментария">
                                        }
                                    }
                                }

                                foreach (var dpt in Model.Users.Where(x => x.StatusID == 6))
                                {<div>
                                        Комментарий ДИД (@dpt.SurName @dpt.Name @dpt.Partonymic)
                                    </div>
                                    if (applications.СommentDepartment != null)
                                    {
                                        <input disabled="disabled" value="@applications.СommentDepartment">

                                    }

                                    else
                                    {
                                        <input disabled="disabled" value="ДИД не оставил комментария">
                                    }
                                }

                            }

                            @if (DateTime.Now - applications.DateCreation < new TimeSpan(1, 0, 0, 0) && (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 1
                            && applications.DispatcherNIIAR_StatusDoneID == 1 && applications.DispatcherATA_StatusDoneID == 3 && ((applications.Days == true && applications.IntercityСity == false)
                            || (applications.Days == false && applications.IntercityСity == true) ||
                            (applications.Days == false && applications.IntercityСity == false) || (applications.Days == true && applications.IntercityСity == true))))
                            {
                                <div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>

                                if (applications.CommentClient != null)
                                {
                                    <input disabled="disabled" value="@applications.CommentClient">
                                }
                                else
                                {
                                    <input disabled="disabled" value="Клиент не оставил комментария">
                                }


                                foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                {
                                    foreach (var usrDrc in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 3))
                                    {
                                        <div>Комментарий руководителя (@usrDrc.SurName @usrDrc.Name @usrDrc.Partonymic)</div>


                                        if (applications.СommentDirector != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDirector">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Руководитель не оставил комментария">
                                        }
                                    }
                                }


                                foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                {
                                    foreach (var usrEcn in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 4))
                                    {
                                        <div>
                                            Комментарий экономиста (@usrEcn.SurName @usrEcn.Name @usrEcn.Partonymic)
                                        </div>


                                        if (applications.СommentEconomist != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentEconomist">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Экономист не оставил комментария">
                                        }
                                    }
                                }


                                foreach (var dpt in Model.Users.Where(x => x.StatusID == 6))
                                {<div>
                                        Комментарий ДИД (@dpt.SurName @dpt.Name @dpt.Partonymic)
                                    </div>
                                    if (applications.СommentDepartment != null)
                                    {
                                        <input disabled="disabled" value="@applications.СommentDepartment">

                                    }

                                    else
                                    {
                                        <input disabled="disabled" value="ДИД не оставил комментария">
                                    }
                                }



                                foreach (var DspNIIAR in Model.Users.Where(x => x.StatusID == 5))
                                {<div>
                                        Комментарий диспетчера НИИАР (@DspNIIAR.SurName @DspNIIAR.Name @DspNIIAR.Partonymic)
                                    </div>


                                    if (applications.СommentDispatcherNIIAR != null)
                                    {
                                        <input disabled="disabled" value="@applications.СommentDispatcherNIIAR">
                                    }
                                    else
                                    {
                                        <input disabled="disabled" value="Диспетчер НИИАР не оставил комментария">
                                    }
                                }

                            }
                            @if (DateTime.Now - applications.DateCreation < new TimeSpan(1, 0, 0, 0) && (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 3 &&
                            applications.DispatcherNIIAR_StatusDoneID == 1 && applications.DispatcherATA_StatusDoneID == 3 && (applications.Days == true && applications.IntercityСity == true)))
                            {
                                <div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>

                                if (applications.CommentClient != null)
                                {
                                    <input disabled="disabled" value="@applications.CommentClient">
                                }
                                else
                                {
                                    <input disabled="disabled" value="Клиент не оставил комментария">
                                }


                                foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                {
                                    foreach (var usrDrc in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 3))
                                    {
                                        <div>Комментарий руководителя (@usrDrc.SurName @usrDrc.Name @usrDrc.Partonymic)</div>


                                        if (applications.СommentDirector != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDirector">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Руководитель не оставил комментария">
                                        }
                                    }
                                }


                                foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                {
                                    foreach (var usrEcn in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 4))
                                    {
                                        <div>
                                            Комментарий экономиста (@usrEcn.SurName @usrEcn.Name @usrEcn.Partonymic)
                                        </div>


                                        if (applications.СommentEconomist != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentEconomist">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Экономист не оставил комментария">
                                        }
                                    }
                                }

                                foreach (var DspNIIAR in Model.Users.Where(x => x.StatusID == 5))
                                {<div>
                                        Комментарий диспетчера НИИАР (@DspNIIAR.SurName @DspNIIAR.Name @DspNIIAR.Partonymic)
                                    </div>


                                    if (applications.СommentDispatcherNIIAR != null)
                                    {
                                        <input disabled="disabled" value="@applications.СommentDispatcherNIIAR">
                                    }
                                    else
                                    {
                                        <input disabled="disabled" value="Диспетчер НИИАР не оставил комментария">
                                    }
                                }
                            }

                            @if (DateTime.Now - applications.DateCreation > new TimeSpan(1, 0, 0, 0) && (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 1
                            && applications.DispatcherNIIAR_StatusDoneID == 1 && applications.DispatcherATA_StatusDoneID == 3 && ((applications.Days == true && applications.IntercityСity == false)
                            || (applications.Days == false && applications.IntercityСity == true) ||
                            (applications.Days == false && applications.IntercityСity == false) || (applications.Days == true && applications.IntercityСity == true))))
                            {
                                <div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>

                                if (applications.CommentClient != null)
                                {
                                    <input disabled="disabled" value="@applications.CommentClient">
                                }
                                else
                                {
                                    <input disabled="disabled" value="Клиент не оставил комментария">
                                }
                                foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                {
                                    foreach (var usrDrc in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 3))
                                    {
                                        <div>Комментарий руководителя (@usrDrc.SurName @usrDrc.Name @usrDrc.Partonymic)</div>


                                        if (applications.СommentDirector != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDirector">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Руководитель не оставил комментария">
                                        }
                                    }
                                }


                                foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                {
                                    foreach (var usrEcn in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 4))
                                    {
                                        <div>
                                            Комментарий экономиста (@usrEcn.SurName @usrEcn.Name @usrEcn.Partonymic)
                                        </div>


                                        if (applications.СommentEconomist != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentEconomist">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Экономист не оставил комментария">
                                        }
                                    }
                                }


                                foreach (var dpt in Model.Users.Where(x => x.StatusID == 6))
                                {<div>
                                        Комментарий ДИД (@dpt.SurName @dpt.Name @dpt.Partonymic)
                                    </div>
                                    if (applications.СommentDepartment != null)
                                    {
                                        <input disabled="disabled" value="@applications.СommentDepartment">

                                    }

                                    else
                                    {
                                        <input disabled="disabled" value="ДИД не оставил комментария">
                                    }
                                }



                                foreach (var DspNIIAR in Model.Users.Where(x => x.StatusID == 5))
                                {<div>
                                        Комментарий диспетчера НИИАР (@DspNIIAR.SurName @DspNIIAR.Name @DspNIIAR.Partonymic)
                                    </div>


                                    if (applications.СommentDispatcherNIIAR != null)
                                    {
                                        <input disabled="disabled" value="@applications.СommentDispatcherNIIAR">
                                    }
                                    else
                                    {
                                        <input disabled="disabled" value="Диспетчер НИИАР не оставил комментария">
                                    }
                                }

                            }
                            @if (DateTime.Now - applications.DateCreation > new TimeSpan(1, 0, 0, 0) && (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 3 &&
                            applications.DispatcherNIIAR_StatusDoneID == 1 && applications.DispatcherATA_StatusDoneID == 3 && (applications.Days == true && applications.IntercityСity == true)))
                            {
                                <div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>

                                if (applications.CommentClient != null)
                                {
                                    <input disabled="disabled" value="@applications.CommentClient">
                                }
                                else
                                {
                                    <input disabled="disabled" value="Клиент не оставил комментария">
                                }
                                foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                {
                                    foreach (var usrDrc in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 3))
                                    {
                                        <div>Комментарий руководителя (@usrDrc.SurName @usrDrc.Name @usrDrc.Partonymic)</div>


                                        if (applications.СommentDirector != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDirector">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Руководитель не оставил комментария">
                                        }
                                    }
                                }
                                foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                {
                                    foreach (var usrEcn in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 4))
                                    {
                                        <div>
                                            Комментарий экономиста (@usrEcn.SurName @usrEcn.Name @usrEcn.Partonymic)
                                        </div>


                                        if (applications.СommentEconomist != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentEconomist">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Экономист не оставил комментария">
                                        }
                                    }
                                }

                                foreach (var DspNIIAR in Model.Users.Where(x => x.StatusID == 5))
                                {<div>
                                        Комментарий диспетчера НИИАР (@DspNIIAR.SurName @DspNIIAR.Name @DspNIIAR.Partonymic)
                                    </div>


                                    if (applications.СommentDispatcherNIIAR != null)
                                    {
                                        <input disabled="disabled" value="@applications.СommentDispatcherNIIAR">
                                    }
                                    else
                                    {
                                        <input disabled="disabled" value="Диспетчер НИИАР не оставил комментария">
                                    }
                                }

                            }

                            @if (applications.DirectorStatusDoneID == 2 && applications.EconomistStatusDoneID == 3
                            && applications.DepartmentStatusDoneID == 3 && applications.DispatcherNIIAR_StatusDoneID == 3)
                            {
                                <div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>

                                if (applications.CommentClient != null)
                                {
                                    <input disabled="disabled" value="@applications.CommentClient">
                                }
                                else
                                {
                                    <input disabled="disabled" value="Клиент не оставил комментария">
                                }

                                foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                {
                                    foreach (var usrDrc in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 3))
                                    {
                                        <div>Комментарий руководителя (@usrDrc.SurName @usrDrc.Name @usrDrc.Partonymic)</div>


                                        if (applications.СommentDirector != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDirector">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Руководитель не оставил комментария">
                                        }
                                    }
                                }

                            }

                            @if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 2
                            && applications.DepartmentStatusDoneID == 3 && applications.DispatcherNIIAR_StatusDoneID == 3 && applications.DispatcherATA_StatusDoneID == 3)
                            {
                                <div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>

                                if (applications.CommentClient != null)
                                {
                                    <input disabled="disabled" value="@applications.CommentClient">
                                }
                                else
                                {
                                    <input disabled="disabled" value="Клиент не оставил комментария">
                                }

                                foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                {
                                    foreach (var usrDrc in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 3))
                                    {
                                        <div>Комментарий руководителя (@usrDrc.SurName @usrDrc.Name @usrDrc.Partonymic)</div>


                                        if (applications.СommentDirector != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDirector">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Руководитель не оставил комментария">
                                        }
                                    }
                                }

                                foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                {
                                    foreach (var usrEcn in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 4))
                                    {
                                        <div>
                                            Комментарий экономиста (@usrEcn.SurName @usrEcn.Name @usrEcn.Partonymic)
                                        </div>


                                        if (applications.СommentEconomist != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentEconomist">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Экономист не оставил комментария">
                                        }
                                    }
                                }

                            }


                            @if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 2
                            && applications.DispatcherNIIAR_StatusDoneID == 3 && ((applications.Days == true && applications.IntercityСity == false)
                            || (applications.Days == false && applications.IntercityСity == true) ||
                            (applications.Days == false && applications.IntercityСity == false)))
                            {
                                <div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>

                                if (applications.CommentClient != null)
                                {
                                    <input disabled="disabled" value="@applications.CommentClient">
                                }
                                else
                                {
                                    <input disabled="disabled" value="Клиент не оставил комментария">
                                }
                                foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                {
                                    foreach (var usrDrc in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 3))
                                    {
                                        <div>Комментарий руководителя (@usrDrc.SurName @usrDrc.Name @usrDrc.Partonymic)</div>


                                        if (applications.СommentDirector != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDirector">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Руководитель не оставил комментария">
                                        }
                                    }
                                }


                                foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                {
                                    foreach (var usrEcn in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 4))
                                    {
                                        <div>
                                            Комментарий экономиста (@usrEcn.SurName @usrEcn.Name @usrEcn.Partonymic)
                                        </div>


                                        if (applications.СommentEconomist != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentEconomist">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Экономист не оставил комментария">
                                        }
                                    }
                                }


                                foreach (var dpt in Model.Users.Where(x => x.StatusID == 6))
                                {<div>
                                        Комментарий ДИД (@dpt.SurName @dpt.Name @dpt.Partonymic)
                                    </div>
                                    if (applications.СommentDepartment != null)
                                    {
                                        <input disabled="disabled" value="@applications.СommentDepartment">

                                    }

                                    else
                                    {
                                        <input disabled="disabled" value="ДИД не оставил комментария">
                                    }
                                }


                            }

                            @if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 3 &&
                            applications.DispatcherNIIAR_StatusDoneID == 2 && (applications.Days == true && applications.IntercityСity == true))
                            {
                                <div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>

                                if (applications.CommentClient != null)
                                {
                                    <input disabled="disabled" value="@applications.CommentClient">
                                }
                                else
                                {
                                    <input disabled="disabled" value="Клиент не оставил комментария">
                                }

                                foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                {
                                    foreach (var usrDrc in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 3))
                                    {
                                        <div>Комментарий руководителя (@usrDrc.SurName @usrDrc.Name @usrDrc.Partonymic)</div>


                                        if (applications.СommentDirector != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDirector">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Руководитель не оставил комментария">
                                        }
                                    }
                                }


                                foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                {
                                    foreach (var usrEcn in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 4))
                                    {
                                        <div>
                                            Комментарий экономиста (@usrEcn.SurName @usrEcn.Name @usrEcn.Partonymic)
                                        </div>


                                        if (applications.СommentEconomist != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentEconomist">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Экономист не оставил комментария">
                                        }
                                    }
                                }


                                foreach (var DspNIIAR in Model.Users.Where(x => x.StatusID == 5))
                                {<div>
                                        Комментарий диспетчера НИИАР (@DspNIIAR.SurName @DspNIIAR.Name @DspNIIAR.Partonymic)
                                    </div>


                                    if (applications.СommentDispatcherNIIAR != null)
                                    {
                                        <input disabled="disabled" value="@applications.СommentDispatcherNIIAR">
                                    }
                                    else
                                    {
                                        <input disabled="disabled" value="Диспетчер НИИАР не оставил комментария">
                                    }
                                }
                            }

                            @if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 1
                            && applications.DispatcherNIIAR_StatusDoneID == 2 && ((applications.Days == true && applications.IntercityСity == false)
                            || (applications.Days == false && applications.IntercityСity == true) ||
                            (applications.Days == false && applications.IntercityСity == false) || (applications.Days == true && applications.IntercityСity == true)))
                            {
                                <div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>

                                if (applications.CommentClient != null)
                                {
                                    <input disabled="disabled" value="@applications.CommentClient">
                                }
                                else
                                {
                                    <input disabled="disabled" value="Клиент не оставил комментария">
                                }
                                foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                {
                                    foreach (var usrDrc in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 3))
                                    {
                                        <div>Комментарий руководителя (@usrDrc.SurName @usrDrc.Name @usrDrc.Partonymic)</div>


                                        if (applications.СommentDirector != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDirector">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Руководитель не оставил комментария">
                                        }
                                    }
                                }

                                foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                {
                                    foreach (var usrEcn in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 4))
                                    {
                                        <div>
                                            Комментарий экономиста (@usrEcn.SurName @usrEcn.Name @usrEcn.Partonymic)
                                        </div>


                                        if (applications.СommentEconomist != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentEconomist">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Экономист не оставил комментария">
                                        }
                                    }
                                }
                                foreach (var dpt in Model.Users.Where(x => x.StatusID == 6))
                                {<div>
                                        Комментарий ДИД (@dpt.SurName @dpt.Name @dpt.Partonymic)
                                    </div>
                                    if (applications.СommentDepartment != null)
                                    {
                                        <input disabled="disabled" value="@applications.СommentDepartment">

                                    }

                                    else
                                    {
                                        <input disabled="disabled" value="ДИД не оставил комментария">
                                    }
                                }
                                foreach (var DspNIIAR in Model.Users.Where(x => x.StatusID == 5))
                                {<div>
                                        Комментарий диспетчера НИИАР (@DspNIIAR.SurName @DspNIIAR.Name @DspNIIAR.Partonymic)
                                    </div>


                                    if (applications.СommentDispatcherNIIAR != null)
                                    {
                                        <input disabled="disabled" value="@applications.СommentDispatcherNIIAR">
                                    }
                                    else
                                    {
                                        <input disabled="disabled" value="Диспетчер НИИАР не оставил комментария">
                                    }
                                }

                            }

                            @if (DateTime.Now - applications.DateCreation > new TimeSpan(1, 0, 0, 0) && (((applications.DirectorStatusDoneID == 3 ||
                            applications.DirectorStatusDoneID == 1) && (applications.EconomistStatusDoneID == 1 ||
                            applications.EconomistStatusDoneID == 3) &&
                            (applications.DepartmentStatusDoneID == 1
                            || applications.DepartmentStatusDoneID == 3) && (applications.DispatcherNIIAR_StatusDoneID == 3) && (applications.DispatcherATA_StatusDoneID == 5))))
                            {
                                if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 3 &&
                                applications.DepartmentStatusDoneID == 3 && applications.DispatcherNIIAR_StatusDoneID == 3
                                )
                                {
                                    <div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>


                                    if (applications.CommentClient != null)
                                    {
                                        <input disabled="disabled" value="@applications.CommentClient">
                                    }
                                    else
                                    {
                                        <input disabled="disabled" value="Клиент не оставил комментария">
                                    }

                                    foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                    {
                                        foreach (var usrDrc in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 3))
                                        {
                                            <div>Комментарий руководителя (@usrDrc.SurName @usrDrc.Name @usrDrc.Partonymic)</div>


                                            if (applications.СommentDirector != null)
                                            {
                                                <input disabled="disabled" value="@applications.СommentDirector">
                                            }
                                            else
                                            {
                                                <input disabled="disabled" value="Руководитель не оставил комментария">
                                            }
                                        }
                                    }


                                }
                                if (applications.DirectorStatusDoneID == 3 && applications.EconomistStatusDoneID == 3 &&
                                applications.DepartmentStatusDoneID == 3 && applications.DispatcherNIIAR_StatusDoneID == 3
                                )
                                {
                                    <div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>


                                    if (applications.CommentClient != null)
                                    {
                                        <input disabled="disabled" value="@applications.CommentClient">
                                    }
                                    else
                                    {
                                        <input disabled="disabled" value="Клиент не оставил комментария">
                                    }
                                }
                                if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 &&
                                applications.DepartmentStatusDoneID == 3 && applications.DispatcherNIIAR_StatusDoneID == 3
                                )
                                {
                                    <div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>


                                    if (applications.CommentClient != null)
                                    {
                                        <input disabled="disabled" value="@applications.CommentClient">
                                    }
                                    else
                                    {
                                        <input disabled="disabled" value="Клиент не оставил комментария">
                                    }

                                    foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                    {
                                        foreach (var usrDrc in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 3))
                                        {
                                            <div>Комментарий руководителя (@usrDrc.SurName @usrDrc.Name @usrDrc.Partonymic)</div>


                                            if (applications.СommentDirector != null)
                                            {
                                                <input disabled="disabled" value="@applications.СommentDirector">
                                            }
                                            else
                                            {
                                                <input disabled="disabled" value="Руководитель не оставил комментария">
                                            }
                                        }
                                    }
                                    foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                    {
                                        foreach (var usrEcn in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 4))
                                        {
                                            <div>
                                                Комментарий экономиста (@usrEcn.SurName @usrEcn.Name @usrEcn.Partonymic)
                                            </div>


                                            if (applications.СommentEconomist != null)
                                            {
                                                <input disabled="disabled" value="@applications.СommentEconomist">
                                            }
                                            else
                                            {
                                                <input disabled="disabled" value="Экономист не оставил комментария">
                                            }
                                        }
                                    }
                                }
                                if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 &&
                                applications.DepartmentStatusDoneID == 1 && applications.DispatcherNIIAR_StatusDoneID == 3
                                )
                                {
                                    <div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>


                                    if (applications.CommentClient != null)
                                    {
                                        <input disabled="disabled" value="@applications.CommentClient">
                                    }
                                    else
                                    {
                                        <input disabled="disabled" value="Клиент не оставил комментария">
                                    }
                                    foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                    {
                                        foreach (var usrDrc in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 3))
                                        {
                                            <div>Комментарий руководителя (@usrDrc.SurName @usrDrc.Name @usrDrc.Partonymic)</div>


                                            if (applications.СommentDirector != null)
                                            {
                                                <input disabled="disabled" value="@applications.СommentDirector">
                                            }
                                            else
                                            {
                                                <input disabled="disabled" value="Руководитель не оставил комментария">
                                            }
                                        }
                                    }

                                    foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                    {
                                        foreach (var usrEcn in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 4))
                                        {
                                            <div>
                                                Комментарий экономиста (@usrEcn.SurName @usrEcn.Name @usrEcn.Partonymic)
                                            </div>


                                            if (applications.СommentEconomist != null)
                                            {
                                                <input disabled="disabled" value="@applications.СommentEconomist">
                                            }
                                            else
                                            {
                                                <input disabled="disabled" value="Экономист не оставил комментария">
                                            }
                                        }
                                    }


                                    foreach (var dpt in Model.Users.Where(x => x.StatusID == 6))
                                    {<div>
                                            Комментарий ДИД (@dpt.SurName @dpt.Name @dpt.Partonymic)
                                        </div>
                                        if (applications.СommentDepartment != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDepartment">

                                        }

                                        else
                                        {
                                            <input disabled="disabled" value="ДИД не оставил комментария">
                                        }
                                    }

                                }
                                if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 &&
                                applications.DepartmentStatusDoneID == 1 && applications.DispatcherNIIAR_StatusDoneID == 1
                                )
                                {
                                    <div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>


                                    if (applications.CommentClient != null)
                                    {
                                        <input disabled="disabled" value="@applications.CommentClient">
                                    }
                                    else
                                    {
                                        <input disabled="disabled" value="Клиент не оставил комментария">
                                    }
                                    foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                    {
                                        foreach (var usrDrc in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 3))
                                        {
                                            <div>Комментарий руководителя (@usrDrc.SurName @usrDrc.Name @usrDrc.Partonymic)</div>


                                            if (applications.СommentDirector != null)
                                            {
                                                <input disabled="disabled" value="@applications.СommentDirector">
                                            }
                                            else
                                            {
                                                <input disabled="disabled" value="Руководитель не оставил комментария">
                                            }
                                        }
                                    }


                                    foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                    {
                                        foreach (var usrEcn in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 4))
                                        {
                                            <div>
                                                Комментарий экономиста (@usrEcn.SurName @usrEcn.Name @usrEcn.Partonymic)
                                            </div>


                                            if (applications.СommentEconomist != null)
                                            {
                                                <input disabled="disabled" value="@applications.СommentEconomist">
                                            }
                                            else
                                            {
                                                <input disabled="disabled" value="Экономист не оставил комментария">
                                            }
                                        }
                                    }
                                    foreach (var dpt in Model.Users.Where(x => x.StatusID == 6))
                                    {<div>
                                            Комментарий ДИД (@dpt.SurName @dpt.Name @dpt.Partonymic)
                                        </div>
                                        if (applications.СommentDepartment != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDepartment">

                                        }

                                        else
                                        {
                                            <input disabled="disabled" value="ДИД не оставил комментария">
                                        }
                                    }

                                    foreach (var DspNIIAR in Model.Users.Where(x => x.StatusID == 5))
                                    {<div>
                                            Комментарий диспетчера НИИАР (@DspNIIAR.SurName @DspNIIAR.Name @DspNIIAR.Partonymic)
                                        </div>


                                        if (applications.СommentDispatcherNIIAR != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDispatcherNIIAR">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Диспетчер НИИАР не оставил комментария">
                                        }
                                    }

                                }
                                if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 &&
                                applications.DepartmentStatusDoneID == 3 && applications.DispatcherNIIAR_StatusDoneID == 1
                                )
                                {
                                    <div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>


                                    if (applications.CommentClient != null)
                                    {
                                        <input disabled="disabled" value="@applications.CommentClient">
                                    }
                                    else
                                    {
                                        <input disabled="disabled" value="Клиент не оставил комментария">
                                    }
                                    foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                    {
                                        foreach (var usrDrc in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 3))
                                        {
                                            <div>Комментарий руководителя (@usrDrc.SurName @usrDrc.Name @usrDrc.Partonymic)</div>


                                            if (applications.СommentDirector != null)
                                            {
                                                <input disabled="disabled" value="@applications.СommentDirector">
                                            }
                                            else
                                            {
                                                <input disabled="disabled" value="Руководитель не оставил комментария">
                                            }
                                        }
                                    }


                                    foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                    {
                                        foreach (var usrEcn in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 4))
                                        {
                                            <div>
                                                Комментарий экономиста (@usrEcn.SurName @usrEcn.Name @usrEcn.Partonymic)
                                            </div>


                                            if (applications.СommentEconomist != null)
                                            {
                                                <input disabled="disabled" value="@applications.СommentEconomist">
                                            }
                                            else
                                            {
                                                <input disabled="disabled" value="Экономист не оставил комментария">
                                            }
                                        }
                                    }


                                    foreach (var DspNIIAR in Model.Users.Where(x => x.StatusID == 5))
                                    {<div>
                                            Комментарий диспетчера НИИАР (@DspNIIAR.SurName @DspNIIAR.Name @DspNIIAR.Partonymic)
                                        </div>


                                        if (applications.СommentDispatcherNIIAR != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDispatcherNIIAR">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Диспетчер НИИАР не оставил комментария">
                                        }
                                    }
                                }

                            }

                            @if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 1
                            && applications.DispatcherNIIAR_StatusDoneID == 1 && (applications.DispatcherATA_StatusDoneID == 4 || applications.DispatcherATA_StatusDoneID != 3) && ((applications.Days == true && applications.IntercityСity == false)
                            || (applications.Days == false && applications.IntercityСity == true) ||
                            (applications.Days == false && applications.IntercityСity == false) || (applications.Days == true && applications.IntercityСity == true)))
                            {
                                if (applications.DispatcherATA_StatusDoneID == 4)
                                {
                                    <div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>


                                    if (applications.CommentClient != null)
                                    {
                                        <input disabled="disabled" value="@applications.CommentClient">
                                    }
                                    else
                                    {
                                        <input disabled="disabled" value="Клиент не оставил комментария">
                                    }

                                    foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                    {
                                        foreach (var usrDrc in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 3))
                                        {
                                            <div>Комментарий руководителя (@usrDrc.SurName @usrDrc.Name @usrDrc.Partonymic)</div>


                                            if (applications.СommentDirector != null)
                                            {
                                                <input disabled="disabled" value="@applications.СommentDirector">
                                            }
                                            else
                                            {
                                                <input disabled="disabled" value="Руководитель не оставил комментария">
                                            }
                                        }
                                    }


                                    foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                    {
                                        foreach (var usrEcn in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 4))
                                        {
                                            <div>
                                                Комментарий экономиста (@usrEcn.SurName @usrEcn.Name @usrEcn.Partonymic)
                                            </div>


                                            if (applications.СommentEconomist != null)
                                            {
                                                <input disabled="disabled" value="@applications.СommentEconomist">
                                            }
                                            else
                                            {
                                                <input disabled="disabled" value="Экономист не оставил комментария">
                                            }
                                        }
                                    }


                                    foreach (var dpt in Model.Users.Where(x => x.StatusID == 6))
                                    {<div>
                                            Комментарий ДИД (@dpt.SurName @dpt.Name @dpt.Partonymic)
                                        </div>
                                        if (applications.СommentDepartment != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDepartment">

                                        }

                                        else
                                        {
                                            <input disabled="disabled" value="ДИД не оставил комментария">
                                        }
                                    }



                                    foreach (var DspNIIAR in Model.Users.Where(x => x.StatusID == 5))
                                    {<div>
                                            Комментарий диспетчера НИИАР (@DspNIIAR.SurName @DspNIIAR.Name @DspNIIAR.Partonymic)
                                        </div>


                                        if (applications.СommentDispatcherNIIAR != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDispatcherNIIAR">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Диспетчер НИИАР не оставил комментария">
                                        }
                                    }

                                    foreach (var DspATA in Model.Users.Where(x => x.StatusID == 7))
                                    {
                                        <div>
                                            Комментарий диспетчера АТА (@DspATA.SurName @DspATA.Name @DspATA.Partonymic)
                                        </div>
                                        if (applications.СommentDispatcherATA != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDispatcherATA">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Диспетчер АТА не оставил комментария">
                                        }
                                    }
                                }
                            }
                            @if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 3 &&
                            applications.DispatcherNIIAR_StatusDoneID == 1 && (applications.DispatcherATA_StatusDoneID == 4 || applications.DispatcherATA_StatusDoneID != 3) && (applications.Days == true && applications.IntercityСity == true))
                            {
                                if (applications.DispatcherATA_StatusDoneID == 4)
                                {
                                    <div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>


                                    if (applications.CommentClient != null)
                                    {
                                        <input disabled="disabled" value="@applications.CommentClient">
                                    }
                                    else
                                    {
                                        <input disabled="disabled" value="Клиент не оставил комментария">
                                    }

                                    foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                    {
                                        foreach (var usrDrc in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 3))
                                        {
                                            <div>Комментарий руководителя (@usrDrc.SurName @usrDrc.Name @usrDrc.Partonymic)</div>


                                            if (applications.СommentDirector != null)
                                            {
                                                <input disabled="disabled" value="@applications.СommentDirector">
                                            }
                                            else
                                            {
                                                <input disabled="disabled" value="Руководитель не оставил комментария">
                                            }
                                        }
                                    }


                                    foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                    {
                                        foreach (var usrEcn in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 4))
                                        {
                                            <div>
                                                Комментарий экономиста (@usrEcn.SurName @usrEcn.Name @usrEcn.Partonymic)
                                            </div>


                                            if (applications.СommentEconomist != null)
                                            {
                                                <input disabled="disabled" value="@applications.СommentEconomist">
                                            }
                                            else
                                            {
                                                <input disabled="disabled" value="Экономист не оставил комментария">
                                            }
                                        }
                                    }

                                    foreach (var DspNIIAR in Model.Users.Where(x => x.StatusID == 5))
                                    {<div>
                                            Комментарий диспетчера НИИАР (@DspNIIAR.SurName @DspNIIAR.Name @DspNIIAR.Partonymic)
                                        </div>


                                        if (applications.СommentDispatcherNIIAR != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDispatcherNIIAR">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Диспетчер НИИАР не оставил комментария">
                                        }
                                    }

                                    foreach (var DspATA in Model.Users.Where(x => x.StatusID == 7))
                                    {
                                        <div>
                                            Комментарий диспетчера АТА (@DspATA.SurName @DspATA.Name @DspATA.Partonymic)
                                        </div>
                                        if (applications.СommentDispatcherATA != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDispatcherATA">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Диспетчер АТА не оставил комментария">
                                        }
                                    }
                                }
                            }

                            @if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 1
                            && applications.DispatcherNIIAR_StatusDoneID == 1 && (applications.DispatcherATA_StatusDoneID == 5) && ((applications.Days == true && applications.IntercityСity == false)
                            || (applications.Days == false && applications.IntercityСity == true) ||
                            (applications.Days == false && applications.IntercityСity == false) || (applications.Days == true && applications.IntercityСity == true)))
                            {
                                if (applications.DispatcherATA_StatusDoneID == 5)
                                {
                                    <div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>


                                    if (applications.CommentClient != null)
                                    {
                                        <input disabled="disabled" value="@applications.CommentClient">
                                    }
                                    else
                                    {
                                        <input disabled="disabled" value="Клиент не оставил комментария">
                                    }

                                    foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                    {
                                        foreach (var usrDrc in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 3))
                                        {
                                            <div>Комментарий руководителя (@usrDrc.SurName @usrDrc.Name @usrDrc.Partonymic)</div>


                                            if (applications.СommentDirector != null)
                                            {
                                                <input disabled="disabled" value="@applications.СommentDirector">
                                            }
                                            else
                                            {
                                                <input disabled="disabled" value="Руководитель не оставил комментария">
                                            }
                                        }
                                    }


                                    foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                    {
                                        foreach (var usrEcn in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 4))
                                        {
                                            <div>
                                                Комментарий экономиста (@usrEcn.SurName @usrEcn.Name @usrEcn.Partonymic)
                                            </div>


                                            if (applications.СommentEconomist != null)
                                            {
                                                <input disabled="disabled" value="@applications.СommentEconomist">
                                            }
                                            else
                                            {
                                                <input disabled="disabled" value="Экономист не оставил комментария">
                                            }
                                        }
                                    }


                                    foreach (var dpt in Model.Users.Where(x => x.StatusID == 6))
                                    {<div>
                                            Комментарий ДИД (@dpt.SurName @dpt.Name @dpt.Partonymic)
                                        </div>
                                        if (applications.СommentDepartment != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDepartment">

                                        }

                                        else
                                        {
                                            <input disabled="disabled" value="ДИД не оставил комментария">
                                        }
                                    }



                                    foreach (var DspNIIAR in Model.Users.Where(x => x.StatusID == 5))
                                    {<div>
                                            Комментарий диспетчера НИИАР (@DspNIIAR.SurName @DspNIIAR.Name @DspNIIAR.Partonymic)
                                        </div>


                                        if (applications.СommentDispatcherNIIAR != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDispatcherNIIAR">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Диспетчер НИИАР не оставил комментария">
                                        }
                                    }

                                    foreach (var DspATA in Model.Users.Where(x => x.StatusID == 7))
                                    {
                                        <div>
                                            Комментарий диспетчера АТА (@DspATA.SurName @DspATA.Name @DspATA.Partonymic)
                                        </div>
                                        if (applications.СommentDispatcherATA != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDispatcherATA">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Диспетчер АТА не оставил комментария">


                                        }
                                    }
                                }
                            }
                            @if (applications.DirectorStatusDoneID == 1 && applications.EconomistStatusDoneID == 1 && applications.DepartmentStatusDoneID == 3 &&
                            applications.DispatcherNIIAR_StatusDoneID == 1 && applications.DispatcherATA_StatusDoneID == 5 && (applications.Days == true && applications.IntercityСity == true))
                            {
                                if (applications.DispatcherATA_StatusDoneID == 5)
                                {
                                    <div>Комментарий клиента (@applications.Users.SurName @applications.Users.Name @applications.Users.Partonymic)</div>


                                    if (applications.CommentClient != null)
                                    {
                                        <input disabled="disabled" value="@applications.CommentClient">
                                    }
                                    else
                                    {
                                        <input disabled="disabled" value="Клиент не оставил комментария">
                                    }

                                    foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                    {
                                        foreach (var usrDrc in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 3))
                                        {
                                            <div>Комментарий руководителя (@usrDrc.SurName @usrDrc.Name @usrDrc.Partonymic)</div>


                                            if (applications.СommentDirector != null)
                                            {
                                                <input disabled="disabled" value="@applications.СommentDirector">
                                            }
                                            else
                                            {
                                                <input disabled="disabled" value="Руководитель не оставил комментария">
                                            }
                                        }
                                    }


                                    foreach (var usr in Model.Users.Where(x => x.Id == applications.UserID))
                                    {
                                        foreach (var usrEcn in Model.Users.Where(x => x.DivisionID == usr.DivisionID && x.StatusID == 4))
                                        {
                                            <div>
                                                Комментарий экономиста (@usrEcn.SurName @usrEcn.Name @usrEcn.Partonymic)
                                            </div>


                                            if (applications.СommentEconomist != null)
                                            {
                                                <input disabled="disabled" value="@applications.СommentEconomist">
                                            }
                                            else
                                            {
                                                <input disabled="disabled" value="Экономист не оставил комментария">
                                            }
                                        }
                                    }

                                    foreach (var DspNIIAR in Model.Users.Where(x => x.StatusID == 5))
                                    {<div>
                                            Комментарий диспетчера НИИАР (@DspNIIAR.SurName @DspNIIAR.Name @DspNIIAR.Partonymic)
                                        </div>


                                        if (applications.СommentDispatcherNIIAR != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDispatcherNIIAR">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Диспетчер НИИАР не оставил комментария">
                                        }
                                    }

                                    foreach (var DspATA in Model.Users.Where(x => x.StatusID == 7))
                                    {
                                        <div>
                                            Комментарий диспетчера АТА (@DspATA.SurName @DspATA.Name @DspATA.Partonymic)
                                        </div>
                                        if (applications.СommentDispatcherATA != null)
                                        {
                                            <input disabled="disabled" value="@applications.СommentDispatcherATA">
                                        }
                                        else
                                        {
                                            <input disabled="disabled" value="Диспетчер АТА не оставил комментария">
                                        }
                                    }
                                }

                            }
                        </div>
                    </details>


                    @*@Html.ActionLink("Подробнее", "Index", "Home", new { Id = applications.Id }, null)*@



                    @*<div><span>Бренд: </span>@applications.Brand</div>
                        <div><span>Модель: </span>@applications.Model</div>
                        <p class="price">@applications.Price руб.</p>*@

                    @*@Html.ActionLink("Подробнее", "Product", "Home", new { Id = applications.Id }, null)*@

                    @*@using (Html.BeginForm("AddToCart", "Cart", new { Id = product.Id, categoryName = ViewBag.category, returnUrl = Request.Url.PathAndQuery }))
                        {
                            <span class="input-number ">

                                <input id="amount" type="number" min="1" max="100000" name="quantity" value="1" class="form-control form-number ">
                                <input type="submit" value="В корзину" class="button" />
                            </span>

                        }*@
                </div>
            </div>
        }
    </div>

    @*<link href="~/Content/checkbox-new.css" rel="stylesheet" />*@
    <style>

        .saveWord {
            width: 40px;
            height: 40px;
            /* border: none;*/
            /*border: solid 2px #240fdc;*/
            /*  border-radius: 5px;
        background: white;
        color: white;
        font-size: 20px;
        text-align: center;*/
            margin: -30px 0px 0px 700px;
            position: absolute;
            left: 790px;
            right: 0px;
            /*  top: 50px;
            bottom: 50px;*/
        }

        .statusProcess {
            outline: none;
            border: 1px solid #FFFFFF;
            border-radius: 5px;
            padding: 0px 0px 0px 10px;
            width: 300px;
        }


        .grid-item {
            margin: 50px 0px 0px 0px;
        }

        .NoApplication {
            font-size: 30px;
            margin: 450px 0 350px 450px;
            color: rgba(0,0,0,0.5);
        }

        .frames {
            font-size: 150%;
            /* border: 3px solid black;*/
            /*width: 600px;*/
            border-radius: 5px;
            /* margin: 0px 0px 0px 250px;*/
            padding: 0px 0px 0px 10px;
            color: transparent;
            background: #666666;
            color: #333333;
            background: #FFFFFF;
            /*text-shadow: 2px 2px 0px #FFFFFF, 5px 4px 0px rgba(0,0,0,0.15);*/ /*тень от букв*/
            color: #333333;
            background: #FFFFFF;
            width: 200px;
            height: 100px; /* Размеры */
            /*background: #f8f8a6;*/ /*Цвет фона */
            outline: 2px solid #000; /* Чёрная рамка */
            border: 3px solid #fff; /* Белая рамка*/
            border-radius: 10px; /*Радиус скругления */
        }

        .table {
            width: 100%;
            margin-bottom: 20px;
            border-collapse: collapse;
        }

            .table th {
                font-weight: bold;
                padding: 5px;
                background: #efefef;
                border: 1px solid #dddddd;
                /*text-align: center;*/
            }

            .table td {
                border: 3px solid #dddddd;
                padding: 5px;
                text-align: left;
            }


            .table tr td:first-child, .table tr th:first-child {
                border-left: none;
            }

            .table tr td:last-child, .table tr th:last-child {
                border-right: none;
            }



        .table-status {
            width: 20%;
            margin-bottom: 20px;
            border-collapse: collapse;
        }

            .table-status th {
                font-weight: bold;
                padding: 5px;
                background: #efefef;
                border: 1px solid #dddddd;
                text-align: center;
            }

            .table-status td {
                border: 1px solid #dddddd;
                padding: 5px;
                text-align: center;
            }

            .table-status tr td:first-child, .table tr th:first-child {
                border-left: none;
            }

            .table-status tr td:last-child, .table tr th:last-child {
                border-right: none;
            }

        .status-label {
            font-size: 120%;
        }

        .status-div {
            font-size: 110%;
            font-weight: 100;
        }


        .input-size > input {
            height: auto;
            width: 1130px;
            margin: 0px 20px 20px 0px;
            font-size: 110%;
        }

        .input-size > div {
            font-size: 130%;
            font-weight: bold;
        }

        .main-tables {
            font-size: 130%;
            font-weight: bold;
        }

        details:not([open]) summary small {
            display: none;
        }

        details[open] summary small {
            color: gray;
        }


        .viewDialog {
            width: 150px;
            height: 35px;
            border: none;
            border: solid 2px #240fdc;
            border-radius: 5px;
            background: #240fdc;
            color: white;
            font-size: 20px;
            text-align: center;
            margin: 20px 0px 0px 700px;
            position: absolute;
            left: 500px;
            right: 0px;
        }

        .viewDialogReject {
            width: 150px;
            height: 35px;
            border: none;
            border: solid 2px #240fdc;
            border-radius: 5px;
            background: rgba(255, 255, 255,0);
            font-size: 20px;
            text-align: center;
            margin: 20px 0px 0px 880px;
            position: absolute;
            left: 500px;
            right: 0px;
        }
    </style>



    @*<link href='@Url.Content("~/Content/themes/base/jquery-ui.css")' rel="stylesheet" type="text/css" />
        <script src='@Url.Content("~/Scripts/jquery-1.10.2.min")' type="text/javascript"></script>
        <script src='@Url.Content("~/Scripts/jquery-ui-1.10.4.js")' type="text/javascript"></script>*@


    <script>

        //Кэшируемость тега details для фильтра на сайте (сохранение состояния)
        // Список узлов `NodeList` из `details` (скрытых данных, спойлеров).
        const DETAILS = document.querySelectorAll('details');

        // Хранилище состояний.
        let stateDetails = [];

        // Если список узлов `details` не пуст.
        if (DETAILS.length) {
            // Инициируем начальное состояние.
            stateDetails = initStateDetails(DETAILS);
        }

        // Перебираем узлы `details`.
        DETAILS.forEach(function (item, index) {
            // Открываем/закрываем `details`.
            item.open = stateDetails[index].open;

            // Регистрируем функцию-обработчика.
            // Т.е. при раскрытии обновляем запись в хранилище.
            item.addEventListener('toggle', function (event) {
                stateDetails.splice(index, 1, {
                    index: index,
                    open: event.target.open
                });

                // Обязательно обновляем массив в хранилище.
                saveStateDetails();
            });
        });

        // Загрузка состояния для всех `details`.
        function initStateDetails(details) {
            let result;

            try {
                // Загружаем состояние + отлавливаем
                // синтаксические ошибки при парсинге
                result = loadStateDetails();

                // Если в хранилище пусто, либо количество в хранилище
                // отличается от количества на странице, то:
                if (!result.length || details.length !== result.length) {
                    throw 'Bad data in state for details.';
                }
            } catch (e) {
                // а) создать новый массив;
                result = [];

                // б) записать новые данные в массив;
                details.forEach(function (item, index) {
                    result.push({
                        index: index,
                        open: item.open
                    });
                });
            } finally {
                // Возвращаем результат загрузки данных.
                return result;
            }
        }

        // Загрузка состояния для всех `details`.
        function loadStateDetails() {
            return JSON.parse(localStorage.getItem('stateDetails'));
        }

        // Сохранение состояния для всех `details`.
        function saveStateDetails() {
            localStorage.setItem('stateDetails', JSON.stringify(stateDetails));
        }
         //Кэшируемость тега details для фильтра на сайте (сохранение состояния)


        //Автоматически закрывать все остальные теги <details> после открытия определенного тега <details>
        const details = document.querySelectorAll("details");
        details.forEach((targetDetail) => {
            targetDetail.addEventListener("click", () => {
                details.forEach((detail) => {
                    if (detail !== targetDetail) {
                        detail.removeAttribute("open");
                    }
                });
            });
        });
        //Автоматически закрывать все остальные теги <details> после открытия определенного тега <details>

        //переход по ссылке по событию
        function archiveTr(val) { window.location.href = "/Home/Index?archiveTrue=" + val };
        function archiveFal(val) { window.location.href = "/Home/Index?archiveFalse=" + val };
        //переход по ссылке по событию

        @* Диалоговые окна и CRUD - интерфейс *@
        $(document).ready(function () {

            $.ajaxSetup({ cache: false });

            $(".viewDialog").on("click", function (e) {
                e.preventDefault();

                $("<div></div>")
                    .addClass("dialog")
                    .appendTo("body")
                    .dialog({
                        title: $(this).attr("data-dialog-title"),
                        close: function () { $(this).remove() },
                        modal: true
                    })
                    .load(this.href);
            });
        });
        @* Диалоговые окна и CRUD - интерфейс *@


        @* Диалоговые окна и CRUD - интерфейс *@
        $(document).ready(function () {

            $.ajaxSetup({ cache: false });

            $(".viewDialogReject").on("click", function (e) {
                e.preventDefault();

                $("<div></div>")
                    .addClass("dialog")
                    .appendTo("body")
                    .dialog({
                        title: $(this).attr("data-dialog-title"),
                        close: function () { $(this).remove() },
                        modal: true
                    })
                    .load(this.href);
            });
        });
        @* Диалоговые окна и CRUD - интерфейс *@


    </script>


</body>
</html>
